{"version":3,"file":"js/969.32912703.js","mappings":"0KAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,OAAO,aAAa,IAAIC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAON,EAAIO,QAAQC,IAAI,EAAE,KAAKN,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,aAAa,GAAGF,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOb,EAAIc,UAAWC,WAAW,cAAcX,MAAM,CAAC,KAAO,OAAO,YAAc,cAAcY,SAAS,CAAC,MAAShB,EAAIc,WAAYT,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAIA,EAAOW,KAAKC,QAAQ,QAAQlB,EAAImB,GAAGb,EAAOc,QAAQ,QAAQ,GAAGd,EAAOe,IAAI,SAAgB,KAAYrB,EAAIsB,OAAOtB,EAAIc,UAAU,EAAE,MAAQ,SAASR,GAAWA,EAAOiB,OAAOC,YAAiBxB,EAAIc,UAAUR,EAAOiB,OAAOV,MAAK,KAAKX,EAAG,SAAS,CAACO,YAAY,YAAYJ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAON,EAAIsB,OAAOtB,EAAIc,UAAU,IAAI,CAACd,EAAIyB,GAAG,UAAUvB,EAAG,MAAM,CAACO,YAAY,iBAAiB,CAACP,EAAG,MAAM,CAACO,YAAY,oBAAoB,CAACP,EAAG,KAAK,CAACF,EAAIyB,GAAG,UAAUvB,EAAG,MAAM,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,YAAYC,GAAG,CAAC,MAAQL,EAAI0B,kBAAkB,KAAKxB,EAAG,KAAKF,EAAI2B,GAAI3B,EAAI4B,gBAAgB,SAASC,EAAKC,GAAO,OAAO5B,EAAG,MAAM,CAACmB,IAAIS,EAAMrB,YAAY,oBAAoBJ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAON,EAAIsB,OAAOO,EAAK,IAAI,CAAC7B,EAAIyB,GAAG,IAAIzB,EAAI+B,GAAGF,GAAM,MAAM,IAAG,MAAM,EAC7wC,EACIG,EAAkB,G,oBCwCtB,GACArB,KAAA,cACAsB,IAAAA,GACA,OACAnB,UAAA,GACAc,gBAAAM,EAAAA,EAAAA,MAEA,EACAC,QAAA,CACAb,MAAAA,CAAAD,GACA,KAAAO,eAAAQ,SAAAf,KAGA,KAAAO,eAAA,KAAAA,eAAAS,QAAAR,GAAAA,IAAAR,KAGA,KAAAO,eAAAU,QAAAjB,IAEAkB,EAAAA,EAAAA,IAAA,KAAAX,gBAEA,KAAArB,QAAAiC,KAAA,yBAAAnB,IACA,EACAK,aAAAA,GACA,KAAAE,eAAA,IACAF,EAAAA,EAAAA,KACA,ICnE8P,I,UCQ1Pe,GAAY,OACd,EACA1C,EACAiC,GACA,EACA,KACA,WACA,MAIF,EAAeS,EAAiB,O","sources":["webpack://shopping_mall23/./src/views/search/search.vue","webpack://shopping_mall23/src/views/search/search.vue","webpack://shopping_mall23/./src/views/search/search.vue?d6ef","webpack://shopping_mall23/./src/views/search/search.vue?e193"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"商品搜索\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_c('div',{staticClass:\"searchBox\"},[_c('div',{staticClass:\"searchIcon\"},[_c('van-icon',{attrs:{\"name\":\"search\"}})],1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchKey),expression:\"searchKey\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入您所搜索的商品\"},domProps:{\"value\":(_vm.searchKey)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.search(_vm.searchKey)},\"input\":function($event){if($event.target.composing)return;_vm.searchKey=$event.target.value}}}),_c('button',{staticClass:\"searchBtn\",on:{\"click\":function($event){return _vm.search(_vm.searchKey)}}},[_vm._v(\"搜索\")])]),_c('div',{staticClass:\"searchHistory\"},[_c('div',{staticClass:\"searchHistoryNav\"},[_c('h2',[_vm._v(\"最近搜索\")]),_c('div',[_c('van-icon',{attrs:{\"name\":\"delete-o\"},on:{\"click\":_vm.removeHistory}})],1)]),_c('ul',_vm._l((_vm.searchHistorys),function(item,index){return _c('div',{key:index,staticClass:\"searchHistoryItem\",on:{\"click\":function($event){return _vm.search(item)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-nav-bar\r\n      title=\"商品搜索\"\r\n      left-arrow\r\n      @click-left=\"$router.go(-1)\"\r\n    ></van-nav-bar>\r\n    <div class=\"searchBox\">\r\n      <div class=\"searchIcon\">\r\n        <van-icon name=\"search\" />\r\n      </div>\r\n      <input\r\n        type=\"text\"\r\n        v-model=\"searchKey\"\r\n        placeholder=\"请输入您所搜索的商品\"\r\n        @keydown.enter=\"search(searchKey)\"\r\n      />\r\n      <button class=\"searchBtn\" @click=\"search(searchKey)\">搜索</button>\r\n    </div>\r\n    <div class=\"searchHistory\">\r\n      <div class=\"searchHistoryNav\">\r\n        <h2>最近搜索</h2>\r\n        <div>\r\n          <van-icon name=\"delete-o\" @click=\"removeHistory\" />\r\n        </div>\r\n      </div>\r\n      <ul>\r\n        <div\r\n          class=\"searchHistoryItem\"\r\n          v-for=\"(item, index) in searchHistorys\"\r\n          :key=\"index\"\r\n          @click=\"search(item)\"\r\n        >\r\n          {{ item }}\r\n        </div>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getHistory, removeHistory, setHistory } from '@/utils/storage'\r\nexport default {\r\n  name: 'searchIndex',\r\n  data() {\r\n    return {\r\n      searchKey: '',\r\n      searchHistorys: getHistory()\r\n    }\r\n  },\r\n  methods: {\r\n    search(key) {\r\n      if (this.searchHistorys.includes(key)) {\r\n        //历史搜索记录中已经有该搜索关键词\r\n        //则先删除\r\n        this.searchHistorys = this.searchHistorys.filter(item => item !== key)\r\n      }\r\n      // 首部添加最新搜索记录\r\n      this.searchHistorys.unshift(key)\r\n      //本地存储持久化\r\n      setHistory(this.searchHistorys)\r\n      //跳转搜索详情页\r\n      this.$router.push(`/searchList?searchkey=${key}`)\r\n    },\r\n    removeHistory() {\r\n      this.searchHistorys = []\r\n      removeHistory()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.searchBox {\r\n  height: 25px;\r\n  line-height: 25px;\r\n  width: 350px;\r\n  margin: 10px auto;\r\n  background-color: rgb(238, 232, 232);\r\n  div {\r\n    margin: 0px 5px;\r\n    padding-top: 1px;\r\n    display: inline-block;\r\n  }\r\n  input {\r\n    border: 0px;\r\n    width: 270px;\r\n    background-color: transparent;\r\n    vertical-align: top;\r\n    // background-color: skyblue;\r\n  }\r\n  button {\r\n    border: 0;\r\n    width: 50px;\r\n    background-color: red;\r\n    color: white;\r\n    float: right;\r\n  }\r\n}\r\n.searchBox::after {\r\n  content: '';\r\n  display: block;\r\n  clear: both;\r\n}\r\n.searchHistory {\r\n  overflow: hidden;\r\n  width: 350px;\r\n  margin: 10px auto;\r\n  // background-color: skyblue;\r\n  .searchHistoryNav {\r\n    h2 {\r\n      float: left;\r\n      font-weight: normal;\r\n      font-size: 12px;\r\n    }\r\n    div {\r\n      float: right;\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n  .searchHistoryNav::after {\r\n    content: '';\r\n    display: block;\r\n    clear: both;\r\n  }\r\n  ul {\r\n    margin-top: 5px;\r\n    .searchHistoryItem {\r\n      margin: 2px 4px;\r\n      padding: 1px;\r\n      border-radius: 5px;\r\n      box-shadow: 0px 0px 2px black;\r\n      float: left;\r\n    }\r\n  }\r\n  ul::after {\r\n    content: '';\r\n    display: block;\r\n    clear: both;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=292d7eda&scoped=true\"\nimport script from \"./search.vue?vue&type=script&lang=js\"\nexport * from \"./search.vue?vue&type=script&lang=js\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=292d7eda&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"292d7eda\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","on","$event","$router","go","staticClass","directives","name","rawName","value","searchKey","expression","domProps","type","indexOf","_k","keyCode","key","search","target","composing","_v","removeHistory","_l","searchHistorys","item","index","_s","staticRenderFns","data","getHistory","methods","includes","filter","unshift","setHistory","push","component"],"sourceRoot":""}